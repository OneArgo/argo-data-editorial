---
title: "Diagramme Temp√©rature vs Salinit√©"
format: html
editor: visual
---

## üìà Temp√©rature vs Salinit√©

```{=html}
<div id="chart" style="width: 800px; height: 500px; margin: auto;"></div>

<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<script>
  const chart = echarts.init(document.getElementById('chart'));

  fetch('assets/csv/EasyArgoIA-booleanQc.csv')
    .then(response => response.text())
    .then(csvText => {
      Papa.parse(csvText, {
        header: true,
        dynamicTyping: true,
        complete: function(results) {
          const rows = results.data;

          // // Filtrer les lignes valides
          // const filtered = rows.filter(row => row.salinity_ok === 1);
          // // Extraire les paires [salinity, temperature]
          // const dataPoints = filtered.map(row => [row.salinity, row.temperature]);
          const dataPoints = rows.map(row => [row.salinity, row.temperature]);

          const option = {
            title: {
              text: 'Temp√©rature vs Salinit√©',
              left: 'center'
            },
            tooltip: {
              trigger: 'item',
              formatter: params => `Salinit√©: ${params.value[0]}<br>Temp√©rature: ${params.value[1]}`
            },
            xAxis: {
              name: 'Salinit√©',
              type: 'value'
            },
            yAxis: {
              name: 'Temp√©rature (¬∞C)',
              type: 'value'
            },
            series: [{
              name: 'Mesures',
              type: 'scatter',
              symbolSize: 8,
              data: dataPoints,
              itemStyle: {
                color: '#91cc75'
              }
            }]
          };

          chart.setOption(option);
        }
      });
    });
</script>
